<header
  class="sticky top-0 primary-header grid grid-flow-col place-items-center p-8 bg-gray-700 opacity-50 transition-opacity duration-500 hover:opacity-100"
>
  <span
    class="text-2xl uppercase font-black text-white hover:animate-pulse-slow"
  >
    <a href="/">Nibo Space</a>
  </span>
</header>

<style>
  .sticking {
    position: sticky;
    top: 0;
    opacity: 1;
    box-shadow: 0 2px 1px 1px rgba(0,0,0, .5);
  }
</style>

<script>
  const primaryHeader = document.querySelector(".primary-header")!;
  const scrollWatcher = document.createElement("div");

  scrollWatcher.setAttribute("data-scroll-watcher", "");

  primaryHeader.before(scrollWatcher);

  const navObserver = new IntersectionObserver((entries) => {
    primaryHeader.classList.toggle("sticking", !entries[0].isIntersecting);
  }, { rootMargin: "100px 0px 0px 0px" });

  navObserver.observe(scrollWatcher);
</script>
