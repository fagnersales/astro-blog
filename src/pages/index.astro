---
import Card from "../components/Card.astro";
import MainLayout from "../layouts/Main.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("blog", (post) => {
  return !post.data.draft && post.data.date < new Date();
});
---

<MainLayout>
  <section class="cards-grid">
    {posts.map((post) => <Card {...post} minifyTitle={true} />)}
  </section>
</MainLayout>

<style>
  .cards-grid {
    margin: 16px;
    display: grid;
    gap: 1rem;
    
    grid-template-columns: repeat(2, 1fr);

    grid-template-columns: repeat(2, minmax(600px, 1fr));

    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  }
</style>
